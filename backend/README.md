
## API de Cliente com Node.js e Supabase
```
Este √© um projeto de API RESTful para gerenciar Cliente, desenvolvido com Node.js, Express, Supabase e 
documentado com Swagger. A API suporta as opera√ß√µes b√°sicas de CRUD (Criar, Ler, Atualizar e Deletar).
```

#### Preview
<img src="./preview/principal.png" alt="">

### üöÄ Come√ßando

Siga os passos abaixo para clonar o projeto e rodar a API em sua m√°quina local.

1.  **Pr√©-requisitos**:
    * [Node.js](https://nodejs.org/) (vers√£o 18 ou superior)
    * Uma conta no [Supabase](https://supabase.com/)

2.  **Configura√ß√£o do Supabase**:
    * Crie um novo projeto no Supabase.
    * No **Table Editor**, crie a tabela `tb_cliente` com a seguinte estrutura SQL:
        ```sql
            create table public.tb_cliente (
                id bigint generated by default as identity not null,
                created_at timestamp with time zone not null default now(),
                nome text not null,
                cnpj text not null,
                segmento text not null,
                cep text not null,
                endereco text not null,
                numero text not null,
                bairro text not null,
                cidade text not null,
                estado text not null,
                constraint tb_cliente_pkey primary key (id),
                constraint tb_cliente_cnpj_key unique (cnpj),
                constraint tb_cliente_nome_key unique (nome)
            ) TABLESPACE pg_default;
        ```
    * Em **Project Settings > API**, copie sua **URL** e a **`anon` API Key**.
    * Crie um arquivo `.env` na raiz do projeto e adicione suas chaves:
        ```env
        SUPABASE_URL=sua-url-do-projeto-aqui
        SUPABASE_KEY=sua-anon-key-aqui
        PORT=3000
        ```

3.  **Instala√ß√£o e Execu√ß√£o**:
    * Clone este reposit√≥rio.
    * Instale as depend√™ncias:
        ``` API
        npm install
        node src/swagger.js
        ```
    * Inicie o servidor de desenvolvimento:
        ``` Web Frontend
        npm install
        npm run dev
        ```
    * A API estar√° rodando em `http://localhost:3000`.

---

### üìö Documenta√ß√£o da API

A documenta√ß√£o interativa da API, gerada com **Swagger**, est√° dispon√≠vel no seguinte endere√ßo. 
Utilize-a para explorar e testar todos os endpoints.

* **URL da Documenta√ß√£o**: `http://localhost:3000/api-docs`

---

### üîë Endpoints da API

A API exp√µe os seguintes endpoints de CRUD para a rota `/api/cliente`.

| M√©todo | Endpoint | Descri√ß√£o |
| :--- | :--- | :--- |
| **GET** | `/api/cliente` | Lista todos os clientes. |
| **GET** | `/api/cliente/{id}` | Busca um cliente espec√≠fico por ID. |
| **POST** | `/api/cliente` | Cria um novo cliente. |
| **PUT** | `/api/cliente/{id}` | Atualiza um cliente existente. |
| **DELETE** | `/api/cliente/{id}` | Exclui um cliente por ID. |

---

### Exemplo de Requisi√ß√µes

#### **POST /api/cliente** (Criar um novo cliente)

* **URL**: `http://localhost:3000/api/cliente`
* **Corpo da Requisi√ß√£o**:
    ```json
    {
        "nome": "Face Time ID",
        "cnpj": "00345678000188",
        "segmento": "Tecnologia",
        "cep": "12345678",
        "endereco": "Rua das Flores",
        "numero": "1000",
        "bairro": "Jardim das Rosas",
        "cidade": "S√£o Paulo",
        "estado": "SP"
    }
    ```

#### **PUT /api/cliente/{id}** (Atualizar um cliente)

* **URL**: `http://localhost:3000/api/cliente/1`
* **Corpo da Requisi√ß√£o**:
    ```json
    {
        "bairro": "Jardim das Rosas",
        "cidade": "S√£o Paulo",
        "estado": "SP"
    }
    ```

---

### üì¶ Depend√™ncias do Projeto

* `express`: Framework web para Node.js.
* `@supabase/supabase-js`: Cliente oficial do Supabase.
* `dotenv`: Para gerenciar vari√°veis de ambiente.
* `swagger-ui-express`: Serve a documenta√ß√£o do Swagger.
* `swagger-autogen`: Gera o arquivo JSON do Swagger automaticamente.
* `nodemon`: Reinicia o servidor automaticamente em cada altera√ß√£o.